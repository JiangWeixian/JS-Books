(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{267:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("例子见"),s("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/Grammar/JS%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B7%AE%E5%BC%82.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v(" - 特别是作为参数传递的时候。")]),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("有两种方式决定垃圾是否被回收：标记清除和标记计数。")]),t._v(" "),s("p",[t._v("垃圾回收是为了优化内存，清除不必要的内存使用。")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("(以下理解可能有误)")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("已经不被采用的方法，但是还是要注意不要循环引用一个对象。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"变量、作用域和内存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#变量、作用域和内存","aria-hidden":"true"}},[this._v("#")]),this._v(" 变量、作用域和内存")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%86%85%E5%AD%98"}},[t._v("变量、作用域和内存")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"}},[t._v("基本类型和引用类型")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("作用域")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E6%9F%A5%E6%89%BE%E5%8F%98%E9%87%8F"}},[t._v("查找变量")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6---gc"}},[t._v("垃圾回收 - GC")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4"}},[t._v("标记清除")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%A0%87%E8%AE%B0%E8%AE%A1%E6%95%B0"}},[t._v("标记计数")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98"}},[t._v("释放内存")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#chrome%E4%B8%8E%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"}},[t._v("Chrome与内存分析")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"基本类型和引用类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本类型和引用类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本类型和引用类型")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("可以发现"),e("code",[this._v("b")]),this._v("中"),e("code",[this._v("name")]),this._v("是被修改的。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"作用域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作用域","aria-hidden":"true"}},[this._v("#")]),this._v(" 作用域")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("执行作用域 - "),s("code",[t._v("this")]),t._v("在函数执行的时候指定")]),t._v(" "),s("li",[s("code",[t._v("es6")]),t._v(" - 如果使用"),s("code",[t._v("let or const")]),t._v("那么就是在函数声明的时候使用。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"查找变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找变量","aria-hidden":"true"}},[this._v("#")]),this._v(" 查找变量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("从下往上面寻找。"),e("strong",[this._v("找到了就停止")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"垃圾回收-gc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#垃圾回收-gc","aria-hidden":"true"}},[this._v("#")]),this._v(" 垃圾回收 - GC")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"标记清除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标记清除","aria-hidden":"true"}},[this._v("#")]),this._v(" 标记清除")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("有两个标记，分别标记为 "),e("strong",[this._v("离开和进入环境")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("进入环境意味着分配内存")]),this._v(" "),e("li",[this._v("离开环境意味着释放")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("什么能够标记为 "),e("strong",[this._v("进入环境")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("声明变量意味着进入 - 无论是"),e("code",[this._v("var a = xx or var a = function")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("但是"),e("code",[this._v("fuction a () {}")]),this._v("要特别注意，当"),e("code",[this._v("a")]),this._v("执行的时候才会标记为进入环境，才会分配内存，以及函数内部变量内存。函数执行结束之后，就会被标标记为离开。如果内部有返回值，被复制那个还是有内存分配的。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"标记计数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标记计数","aria-hidden":"true"}},[this._v("#")]),this._v(" 标记计数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"释放内存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#释放内存","aria-hidden":"true"}},[this._v("#")]),this._v(" 释放内存")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("除了那些函数自动做的GC，将变量设置为"),e("code",[this._v("null")]),this._v("是触发垃圾回收的一种机制。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"chrome与内存分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chrome与内存分析","aria-hidden":"true"}},[this._v("#")]),this._v(" Chrome与内存分析")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("chrome可以通过"),e("code",[this._v("memory")]),this._v("来查看内存。按钮为"),e("code",[this._v("take heap snapshot")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("其中"),e("code",[this._v("heap")]),this._v("为堆，"),e("code",[this._v("stack")]),this._v("为栈。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("其中值类型保存在"),e("code",[this._v("stack")]),this._v("，而引用类型保存在"),e("code",[this._v("heap")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("而且"),e("code",[this._v("heap")]),this._v("内存只在运行的时候分配，"),e("code",[this._v("stack")]),this._v("内存为建立的时候分配。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("因此"),s("code",[t._v("chrome")]),t._v("工具，只能够查看"),s("code",[t._v("heap")]),t._v("内存(因为只有"),s("code",[t._v("take heap snapshot")]),t._v("按钮)，而那些"),s("code",[t._v("stack")]),t._v("内存里面的变量，"),s("strong",[t._v("无法查看")]),t._v("(console方法另说)。")])}],!1,null,null,null);e.default=r.exports}}]);
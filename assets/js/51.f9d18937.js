(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{276:function(a,v,_){"use strict";_.r(v);var e=_(0),t=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,v=a.$createElement,_=a._self._c||v;return _("div",{staticClass:"content"},[_("h1",{attrs:{id:"新的api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#新的api","aria-hidden":"true"}},[a._v("#")]),a._v(" 新的API")]),a._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%96%B0%E7%9A%84api"}},[a._v("新的API")]),a._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E4%BC%98%E5%8C%96%E5%8A%A8%E7%94%BB"}},[a._v("优化动画")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#page-visibility-api"}},[a._v("Page visibility api")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#%E5%AE%9A%E4%BD%8Dapi"}},[a._v("定位API")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#%E6%96%87%E4%BB%B6api"}},[a._v("文件API")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#%E5%AF%B9%E8%B1%A1api"}},[a._v("对象API")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#%E6%8B%96%E6%8B%BD"}},[a._v("拖拽")])]),a._v(" "),_("li",[_("a",{attrs:{href:"#web-worker"}},[a._v("Web worker")])])])])]),a._v(" "),_("h2",{attrs:{id:"优化动画"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#优化动画","aria-hidden":"true"}},[a._v("#")]),a._v(" 优化动画")]),a._v(" "),_("p",[a._v("使用"),_("code",[a._v("requestAnimationFrame")]),a._v("来进行动画。因为"),_("code",[a._v("setTimeout")]),a._v("以及之类的精度不一致，"),_("strong",[a._v("精度指的是时间间隔精度不一致")])]),a._v(" "),_("h2",{attrs:{id:"page-visibility-api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#page-visibility-api","aria-hidden":"true"}},[a._v("#")]),a._v(" Page visibility api")]),a._v(" "),_("p",[a._v("页面是否可见，离开当前页面浏览其他页面的时候，可通过这个"),_("code",[a._v("api")]),a._v("查看，"),_("strong",[a._v("并且离开或者进入的时候会触发一个事件")])]),a._v(" "),_("p",[a._v("帮助就是，利用这个"),_("code",[a._v("api")]),a._v("在离开页面的时候做一些事情。")]),a._v(" "),_("h2",{attrs:{id:"定位api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#定位api","aria-hidden":"true"}},[a._v("#")]),a._v(" 定位API")]),a._v(" "),_("p",[a._v("经纬度。")]),a._v(" "),_("h2",{attrs:{id:"文件api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#文件api","aria-hidden":"true"}},[a._v("#")]),a._v(" 文件API")]),a._v(" "),_("p",[a._v("使用之前请好好看书中是怎么用的。")]),a._v(" "),_("p",[a._v("之前是通过"),_("code",[a._v("input type=file")]),a._v("来控制文件上传。"),_("strong",[a._v("在这个基础上，添加了了一些接口函数实现更为细致化的控制")])]),a._v(" "),_("p",[_("code",[a._v("files api")]),a._v("读取文件信息(不仅仅是文件名)")]),a._v(" "),_("ul",[_("li",[a._v("加载文件之后，作为标签"),_("code",[a._v("src")]),a._v("地址")]),a._v(" "),_("li",[a._v("上传功能，和"),_("code",[a._v("input type=files")]),a._v("类似使用"),_("code",[a._v("new Formdata")]),a._v("结合"),_("code",[a._v("ajax")]),a._v("上传文件。")]),a._v(" "),_("li",[a._v("还可以截取文件部分读取")])]),a._v(" "),_("h2",{attrs:{id:"对象api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#对象api","aria-hidden":"true"}},[a._v("#")]),a._v(" 对象API")]),a._v(" "),_("p",[a._v("指的是"),_("code",[a._v("window.URL")]),a._v("或者是"),_("code",[a._v("window.URL.createObjectURL")])]),a._v(" "),_("p",[a._v("目的是文件"),_("code",[a._v("API")]),a._v("读取文件需要将文件内容读取到缓存，然后使用。如果使用这个功能的话，可以直接加载到浏览器，"),_("code",[a._v("api")]),a._v("返回的是一块内存地址。")]),a._v(" "),_("h2",{attrs:{id:"拖拽"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拖拽","aria-hidden":"true"}},[a._v("#")]),a._v(" 拖拽")]),a._v(" "),_("p",[a._v("进一步，不只是拖拽浏览器元素。")]),a._v(" "),_("p",[a._v("而是将系统文件拖拽到浏览器上，还是使用的是"),_("code",[a._v("drag")]),a._v("那些事件来监听拖拽的情况。")]),a._v(" "),_("p",[a._v("因为拖拽可以获取文件信息，类似使用"),_("code",[a._v("new Formdata")]),a._v("结合"),_("code",[a._v("ajax")]),a._v("上传文件。")]),a._v(" "),_("h2",{attrs:{id:"web-worker"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#web-worker","aria-hidden":"true"}},[a._v("#")]),a._v(" Web worker")]),a._v(" "),_("p",[a._v("PWA的核心功能。")]),a._v(" "),_("ul",[_("li",[a._v("通过"),_("code",[a._v("new Worker(XX.js)")]),a._v(" - 会下载"),_("code",[a._v("xx.js")]),a._v("这个文件，这只是比较简单的做法。")]),a._v(" "),_("li",[a._v("可以理解为简化版本的浏览器，和当前页面不共享作用域。")])])])}],!1,null,null,null);v.default=t.exports}}]);
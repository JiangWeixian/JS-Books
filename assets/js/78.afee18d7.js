(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{256:function(t,e,_){"use strict";_.r(e);var v=_(0),r=Object(v.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),_("p",[t._v("订阅了主题，每次主题发布了什么消息。")]),t._v(" "),_("p",[t._v("作为订阅者就能够获得发布的消息。")]),t._v(" "),t._m(3),t._v(" "),_("p",[t._v("在"),_("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/Grammar/JS-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS-TIPS-自定义事件-发布订阅"),_("OutboundLink")],1),t._v("实现了"),_("strong",[t._v("自定义事件")]),t._v("。")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),_("p",[t._v("以上三个一般必须")]),t._v(" "),t._m(6),t._v(" "),_("p",[t._v("文中举例和我上面例子是类似的。")]),t._v(" "),_("p",[t._v("就像是我实现的"),_("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/Grammar/JS-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS-TIPS-自定义事件-发布订阅"),_("OutboundLink")],1),t._v("其中定义了"),_("code",[t._v("target")]),t._v("管理所有添加到里面的事件")]),t._v(" "),t._m(7)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F","aria-hidden":"true"}},[this._v("#")]),this._v(" 发布订阅模式")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("我通知->你执行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是发布订阅模式？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("其中在浏览器中"),e("code",[this._v("DOM")]),this._v("点击事件就是很直接的发布订阅模式。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("有一个特点，类似"),e("code",[this._v("addEventLisnter")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("添加监听 - 每次添加函数并不会覆盖之前的函数，而是加入到函数列表中")]),this._v(" "),e("li",[this._v("触发 - 可能会暴露某些数据(通过将参数传递到监听函数中)")]),this._v(" "),e("li",[this._v("移除 - 通过"),e("code",[this._v("slice")]),this._v("移除函数列表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"%E5%AE%9E%E7%8E%B0%E5%AE%83"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#%E5%AE%9E%E7%8E%B0%E5%AE%83","aria-hidden":"true"}},[this._v("#")]),this._v(" 实现它")])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ol",[_("li",[_("p",[_("strong",[t._v("非常适合那些需要后续追加功能的情况")]),t._v("。例如我们先写了"),_("code",[t._v("login")]),t._v("模块，我们需要在"),_("code",[t._v("login")]),t._v("模块之后触发一些函数。")]),t._v(" "),_("p",[t._v("如果使用了"),_("strong",[t._v("发布订阅模式")]),t._v("，在接下来需要触发额外的函数的时候。不需要在"),_("code",[t._v("login")]),t._v("的回调函数添加(因为这可能写在了非常深的代码位置)，可以通过订阅模式监听"),_("code",[t._v("login status")]),t._v("。每次需要触发新的函数的使用，就将新的函数通过"),_("code",[t._v("listner or on")]),t._v("的方式添加到"),_("code",[t._v("login")]),t._v("模块中。")])]),t._v(" "),_("li",[_("p",[t._v("如果两个模块需要同一块数据，只需要在"),_("code",[t._v("A")]),t._v("模块触发"),_("code",[t._v("eventkey")]),t._v("的时候暴露那部分数据，以及在"),_("code",[t._v("B")]),t._v("触发某些函数的时候监听"),_("code",[t._v("eventkey")]),t._v("。")]),t._v(" "),_("p",[_("code",[t._v("A")]),t._v("模块触发"),_("code",[t._v("eventkey")]),t._v("的时候就会触发在"),_("code",[t._v("B")]),t._v("模块添加的监听事件。")])]),t._v(" "),_("li",[_("p",[t._v("命名空间 -  "),_("code",[t._v("Event.create( 'namespace2' ).listen( 'click', function(a){}")]),t._v("实现"),_("code",[t._v("create")]),t._v("关键在于返回一个含有和"),_("code",[t._v("Event")]),t._v("具有相同接口函数的对象。"),_("strong",[t._v("这也是实现链式调用的关键")]),t._v("。")])])])}],!1,null,null,null);e.default=r.exports}}]);
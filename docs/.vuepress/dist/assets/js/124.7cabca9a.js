(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{244:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("理解作用域从三个方面：")]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v('其实对于一条普通的语句，编译通过作用域"分词"，通过引擎通过作用域复制。')]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("函数作用域正如之前了解的那样，高层函数作用域的变量可以被底层的访问到。这就会导致一些问题，所以要注意：")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),a("p",[t._v("以上两段代码不同点在于，一个是函数声明一个是函数表达式。")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),a("p",[t._v("一般其余的代码语言都有这个概念，块作用域的概念在于：")]),t._v(" "),t._m(31),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),a("p",[t._v("执行的顺序永远是：")]),t._v(" "),t._m(43),t._v(" "),a("p",[t._v("这一点即使在函数作用域内部也是可以成立的。")]),t._v(" "),a("p",[t._v("但是对于函数有一个特例：")]),t._v(" "),t._m(44),t._m(45),t._v(" "),a("p",[t._v("以及，我们不要重复定义同名函数，特别是在同一个作用域中（当然了一般也没有人这么做）。原因在于：")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("最直接的理解例子：")]),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),a("p",[t._v("不过观察其中代码发现，模块的写法有几个特点（区别与类）：")]),t._v(" "),t._m(57),t._v(" "),a("p",[t._v("其模块的写法模板为：")]),t._v(" "),t._m(58),a("p",[t._v("甚至有一些模块定义的库，可以了解一下。")]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),a("p",[t._v("以下代码不能理解，但的确发生了。记录一下，以免忘记。")]),t._v(" "),t._m(63),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),t._v(" "),a("p",[t._v("正如"),a("router-link",{attrs:{to:"./../this&objprototypes/thisandobjprototypes.html"}},[t._v("thisandobjprototype")]),t._v("其中"),a("strong",[t._v("2.1.1 隐式转换")]),t._v("所提到的那样。")],1),t._v(" "),t._m(71),t._v(" "),a("p",[t._v("那么按照这样理解，本附录的代码不应该如此输出才对。原因出在哪里？")]),t._v(" "),a("p",[t._v("其实很好理解，因为"),a("router-link",{attrs:{to:"./../this&objprototypes/thisandobjprototypes.html"}},[t._v("thisandobjprototype")]),t._v("明明说的就是"),a("code",[t._v("this")]),t._v("，本附录的代码明明就没有"),a("code",[t._v("this")]),t._v("，又哪里来的"),a("code",[t._v("this")]),t._v("指向改变。")],1),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript","aria-hidden":"true"}},[this._v("#")]),this._v(" 你不知道的JavaScript")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("scope&closures(作用域和闭包)")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("a",{attrs:{href:"#%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript"}},[t._v("你不知道的JavaScript")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#1-ch1---%E4%BB%80%E4%B9%88%E6%98%AF%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("1. CH1 - 什么是作用域")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#11-lhsrhs"}},[t._v("1.1 LHS/RHS")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#2-ch2---lexical-scope%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("2. CH2 - Lexical Scope(词法作用域)")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#21-%E6%9F%A5%E6%89%BE%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("2.1 查找词法作用域")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#22-%E6%AC%BA%E9%AA%97"}},[t._v("2.2 欺骗")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3-ch3---%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("3. CH3 - 函数作用域和块作用域")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#31-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("3.1 函数作用域")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#311-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"}},[t._v("3.1.1 函数声明和函数表达式")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#32-%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("3.2 块作用域？")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#321-es6--%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("3.2.1 ES6 + 块作用域")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#4-ch4---%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6"}},[t._v("4. CH4 - 作用域/语法进阶")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#41-%E5%86%8D%E4%B8%80%E6%AC%A1lhsrhs"}},[t._v("4.1 再一次LHS/RHS")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#5-ch5---%E9%97%AD%E5%8C%85"}},[t._v("5. CH5 - 闭包")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#51-%E6%A8%A1%E5%9D%97"}},[t._v("5.1 模块")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#511-es6--%E6%A8%A1%E5%9D%97"}},[t._v("5.1.1 ES6 + 模块")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#52-iife%E5%92%8C%E9%97%AD%E5%8C%85"}},[t._v("5.2 IIFE和闭包")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#53-%E5%BE%AA%E7%8E%AF%E9%97%AD%E5%8C%85"}},[t._v("5.3 循环+闭包")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#6-%E9%99%84%E5%BD%95a"}},[t._v("6. 附录A")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#7-%E9%99%84%E5%BD%95b"}},[t._v("7. 附录B")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#8-%E9%99%84%E5%BD%95c"}},[t._v("8. 附录C")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#9-%E6%80%BB%E7%BB%93"}},[t._v("9. 总结")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"1-ch1---%E4%BB%80%E4%B9%88%E6%98%AF%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#1-ch1---%E4%BB%80%E4%B9%88%E6%98%AF%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. CH1 - 什么是作用域")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("指出，"),s("code",[this._v("JavaScript")]),this._v("是一种"),s("strong",[this._v("动态编译语言")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("引擎（类似"),s("code",[this._v("chrome")]),this._v("）")]),this._v(" "),s("li",[this._v("编译器")]),this._v(" "),s("li",[this._v("作用域")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以发现"),s("strong",[this._v("作用域")]),this._v("是链接编译器和引擎的枢纽，或者是使得两者工作的重要纽带。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"11-lhsrhs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#11-lhsrhs","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 LHS/RHS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("LHS/RHS")]),this._v("的知识有没有用，不太清楚，感觉太理论。以下就简单的记录一下。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("查找一个变量进行的是"),s("code",[this._v("RHS")]),this._v("操作，赋值操作的是"),s("code",[this._v("LHS")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[s("code",[this._v("L/R")]),this._v("分别代表的是等式的左边或/右边，但是我认为，查找和赋值的区分更好理解。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意：")]),this._v(" 函数参数的隐含赋值（LHS）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"2-ch2---lexical-scope%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#2-ch2---lexical-scope%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. CH2 - Lexical Scope(词法作用域)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以理解为 "),s("strong",[this._v("词法")]),this._v(" + "),s("strong",[this._v("作用域")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("作用域在之前就已经提到过了，和"),s("code",[this._v("{...}")]),this._v("该符号密切相关。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("词法就是在 "),s("strong",[this._v("CH1 - 什么是作用域")]),this._v("提到了的编译第一步，分词。先要知道，一条语句，分多少的词。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"21-%E6%9F%A5%E6%89%BE%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#21-%E6%9F%A5%E6%89%BE%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 查找词法作用域")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("冒泡形式，从下到上不断查找。")]),this._v(" "),s("li",[this._v("当第一个变量被找到的时候，就停止查找。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"22-%E6%AC%BA%E9%AA%97"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#22-%E6%AC%BA%E9%AA%97","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 欺骗")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("JavaScript")]),this._v("某些语句可以创建自己的作用域。（不改变上下文的那种，此作用域内部变量都属于新的那种）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("eval")]),this._v("和"),s("code",[this._v("with")]),this._v("，这两个都不要使用！！！")]),this._v(" "),s("li",[s("code",[this._v("settimeout")]),this._v("之类，也会有这种效果。以前使用过程中也是遇到过了。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"3-ch3---%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#3-ch3---%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. CH3 - 函数作用域和块作用域")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"31-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#31-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1 函数作用域")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("有些时候函数嵌套函数，会比把函数暴露出去有用")]),t._v(" "),a("li",[t._v("由于函数作用域特性（底层也可以访问），所以要注意不要覆盖。比如高层有变量"),a("code",[t._v("i")]),t._v("，底层如果"),a("code",[t._v("i=3")]),t._v("会导致覆盖，而"),a("code",[t._v("var i = 3")]),t._v("则不会覆盖。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("避免这些问题，文中提到的一个解决方案就是"),s("strong",[this._v("命名空间")]),this._v("，类似"),s("code",[this._v("using namespace std;")]),this._v("，这部分只是在《设计模式》书中应该会有提及。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"311-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#311-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1.1 函数声明和函数表达式")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- 插入这个")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- 和这个")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- 插入这个")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- 和这个")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("function")]),this._v("开头的是函数声明，不然就是表达式")]),this._v(" "),s("li",[this._v("第二段代码中表达式最后的"),s("code",[this._v("()")]),this._v("，让程序立刻执行这个表达式。称之为"),s("code",[this._v("IIFE")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意")]),this._v("，IIFE是可以传入参数的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"32-%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#32-%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2 块作用域？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我的记忆中，"),s("code",[this._v("JavaScript")]),this._v("是没有块作用域这个概念的。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如果"),a("strong",[t._v("块作用域")]),t._v("概念成立，那么"),a("code",[t._v("i")]),t._v("仅仅属于"),a("code",[t._v("for")]),t._v("，外部是无法访问的。可是，"),a("code",[t._v("JavaScript")]),t._v("是没有这个概念的，所以这个"),a("code",[t._v("i")]),t._v("还是会被外部访问到，也就是说如果，你立马跟着一句"),a("code",[t._v("console.log(i)")]),t._v("，那么结果将会是"),a("code",[t._v("10")]),t._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("所以除了"),a("code",[t._v("function")]),t._v("的"),a("code",[t._v("{}")]),t._v("，之外所有语句带有"),a("code",[t._v("{}")]),t._v("，一句其中声明的变量都属于"),a("code",[t._v("function(){}")]),t._v("或者全局。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意："),s("strong",[this._v("正如")]),this._v("2.2 欺骗")]),this._v("所提到的，有些语句会包裹一个新的作用域。这就有点像"),s("strong",[this._v("块作用域")]),this._v("。所以特殊情况下，以下会导致块作用域：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("eval")]),t._v("  - 不要使用")]),t._v(" "),a("li",[a("code",[t._v("with")]),t._v(" - 不要使用")]),t._v(" "),a("li",[a("code",[t._v("try catch")]),t._v(" - 小心使用，在"),a("code",[t._v("catch")]),t._v("内部具有块作用域。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"321-es6--%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#321-es6--%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2.1 ES6 + 块作用域")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其实块作用域还是比较有用的，所以"),s("code",[this._v("ES6")]),this._v("还是改进了这不部分。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("let")]),t._v(" - 只要是"),a("code",[t._v("let")]),t._v("声明的变量，只能在当前的"),a("code",[t._v("{}")]),t._v("内部使用，外部无法访问。")]),t._v(" "),a("li",[a("code",[t._v("const")]),t._v(" - 块作用域这一特点还是和"),a("code",[t._v("let")]),t._v("类似。自身特点是"),a("strong",[t._v("常量")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"4-ch4---%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#4-ch4---%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. CH4 - 作用域/语法进阶")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"41-%E5%86%8D%E4%B8%80%E6%AC%A1lhsrhs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#41-%E5%86%8D%E4%B8%80%E6%AC%A1lhsrhs","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 再一次LHS/RHS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("明确一点，声明(LHS)永远在赋值(RHS)之前")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("var a")])]),this._v(" "),s("li",[s("code",[this._v("a = 2")])]),this._v(" "),s("li",[s("code",[this._v("console.log(a)")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不是 ReferenceError， 而是 TypeError!")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("以上依然报错。总结来说就是"),a("code",[t._v("var foo = function bar()")]),t._v("并不是函数声明而是表达式（因为它不是"),a("code",[t._v("function")]),t._v("开头的？），能做的就是先"),a("code",[t._v("var foo")]),t._v("。（"),a("code",[t._v("foo")]),t._v("是一个函数名）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("function foo")])]),this._v(" "),s("li",[s("code",[this._v("var foo")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("两者具有优先级，前者优先级别高。"),s("strong",[this._v("虽然在第一条代码情况下，var foo会被忽略。但是如果在之后含有var foo = function(){}(因为var =foo被提前)。仍然会出现错误。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"5-ch5---%E9%97%AD%E5%8C%85"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#5-ch5---%E9%97%AD%E5%8C%85","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. CH5 - 闭包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其实"),s("strong",[this._v("闭包")]),this._v("的概念，之前就已经了解了。"),s("strong",[this._v("即，底层作用域可以访问高层作用域变量")]),this._v("。不过，这是对闭包比较浅薄的理解。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" bar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" baz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("baz")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2 -- 哇噢，看到闭包了，伙计。")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("那么例子总结一下，什么叫作闭包。"),s("strong",[this._v("外部"),s("code",[this._v("baz")]),this._v("仍然有"),s("code",[this._v("foo")]),this._v("内部的引用，这个概念就是闭包。闭包就是函数能够记住并访问它的词法作用域，即使当这个函数在它的词法作用域之外执行时。")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("以上面的代码为例子，"),a("code",[t._v("bar")]),t._v("可以访问"),a("code",[t._v("foo")]),t._v("的权利。现在有一个"),a("code",[t._v("baz")]),t._v("得到了"),a("code",[t._v("bar")]),t._v("这个内部函数。baz还是可以访问到foo内部数据。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("扩展开来，外部"),a("code",[t._v("baz")]),t._v("（不仅仅是底层）可以访问到同一级别的"),a("code",[t._v("foo")]),t._v("内部的变量。因为"),a("code",[t._v("baz")]),t._v("和"),a("code",[t._v("foo")]),t._v("都处于同一个作用域内部。"),a("strong",[t._v("baz可以使用bar，以及bar可以使用foo，这就是原因。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"51-%E6%A8%A1%E5%9D%97"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#51-%E6%A8%A1%E5%9D%97","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.1 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("之前，一直使用的是利用"),s("code",[this._v("prototype")]),this._v("给定义函数添加方法属性。然后通过"),s("code",[this._v("new")]),this._v("关键字创建模块。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("但是这里好像对模块和类做了区分，之前"),s("strong",[this._v("this&objprotoype")]),this._v("中创建的是类。而不是模块？这一点很难理解。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("和原型链好像没什么关系，没有"),s("code",[this._v("new/object.create")]),this._v("之类")]),this._v(" "),s("li",[this._v("有返回值（返回的是内部函数，决定哪些可以暴露出来的属性方法），通过执行模块函数。获取模块内部属性参数。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CoolModule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("identify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tidentify"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" identify\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CoolModule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo 1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CoolModule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo 2"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfoo1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("identify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "foo 1"')]),t._v("\nfoo2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("identify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "foo 2"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"511-es6--%E6%A8%A1%E5%9D%97"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#511-es6--%E6%A8%A1%E5%9D%97","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.1.1 ES6 + 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("增加了"),s("code",[this._v("export")]),this._v("关键字，通过"),s("code",[this._v("export xx")]),this._v("把一个"),s("code",[this._v("xx")]),this._v("作为模块导出。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("更多关于"),s("code",[this._v("export")]),this._v("的用法，可以查看"),s("code",[this._v("ES6")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"52-iife%E5%92%8C%E9%97%AD%E5%8C%85"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#52-iife%E5%92%8C%E9%97%AD%E5%8C%85","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.2 IIFE和闭包")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gimmeSomething "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" nextVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" undefined"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tnextVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tnextVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" nextVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" nextVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gimmeSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gimmeSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 9")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gimmeSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 33")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gimmeSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 105")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("不能理解的地方就在于。居然执行同一函数可以获取之前的数值。虽然使用的一直都是"),s("code",[this._v("gimmeSomething")]),this._v("这个变量，"),s("strong",[this._v("难道定义了一个作用域？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("个人理解，应该是"),s("code",[this._v("gimmeSomething")]),this._v("应该是构成了模块一样的东西。只需要执行一次，以下都是同一个（反正不是类）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"53-%E5%BE%AA%E7%8E%AF%E9%97%AD%E5%8C%85"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#53-%E5%BE%AA%E7%8E%AF%E9%97%AD%E5%8C%85","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.3 循环+闭包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("超时的回调函数都将在循环的完成之后立即运行，即便回调函数立马执行。可以解释"),s("code",[this._v("settimeout")]),this._v("的bugs。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-Javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("timer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("由于没有块概念，且使用了"),a("code",[t._v("var")]),t._v("。因此每次"),a("code",[t._v("for")]),t._v("其实只有一个"),a("code",[t._v("i")]),t._v("存在于作用域。假设使用了"),a("code",[t._v("let")]),t._v("，那么相当于定义了多个作用域，且每个作用域都有一个"),a("code",[t._v("i")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"6-%E9%99%84%E5%BD%95a"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#6-%E9%99%84%E5%BD%95a","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. 附录A")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("this")]),this._v("的指向在调用时候改变，这有点像动态作用域。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"7-%E9%99%84%E5%BD%95b"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#7-%E9%99%84%E5%BD%95b","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. 附录B")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("再一次介绍了"),s("code",[this._v("let")]),this._v("块作用域，以及用"),s("code",[this._v("ES6")]),this._v("之前语法构成块作用域的弥补库..")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"8-%E9%99%84%E5%BD%95c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#8-%E9%99%84%E5%BD%95c","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. 附录C")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("介绍了"),s("code",[this._v("ES6")]),this._v("关键符号"),s("code",[this._v("=>")]),this._v("，解决的是"),s("code",[this._v("this")]),this._v("绑定的问题。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("=>")]),this._v("是将外层作用域的"),s("code",[this._v("this")]),this._v("绑定到上面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"9-%E6%80%BB%E7%BB%93"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#9-%E6%80%BB%E7%BB%93","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. 总结")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("介绍了"),a("code",[t._v("JavaScript")]),t._v("编译之类的相关知识（不深）")]),t._v(" "),a("li",[t._v("函数作用域和块作用域")]),t._v(" "),a("li",[t._v("LHS/RHS")]),t._v(" "),a("li",[t._v("闭包、模块的写法\n"),a("ul",[a("li",[a("code",[t._v("ES6")]),t._v("的表现")])])])])}],!1,null,null,null);s.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{183:function(e,t,a){"use strict";a.r(t);var r=a(0),v=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"ch5---react-redux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ch5---react-redux","aria-hidden":"true"}},[e._v("#")]),e._v(" CH5 - react-redux")]),e._v(" "),a("blockquote",[a("p",[e._v("flux on react = react-redux")])]),e._v(" "),a("h2",{attrs:{id:"%E6%95%B0%E6%8D%AE%E6%B5%81%E5%8A%A8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%95%B0%E6%8D%AE%E6%B5%81%E5%8A%A8","aria-hidden":"true"}},[e._v("#")]),e._v(" 数据流动")]),e._v(" "),a("ol",[a("li",[e._v("dom触发，"),a("code",[e._v("dispatch action")])]),e._v(" "),a("li",[e._v("被"),a("code",[e._v("redcuer")]),e._v("捕获")]),e._v(" "),a("li",[a("code",[e._v("reducer")]),e._v("修改"),a("code",[e._v("store")])]),e._v(" "),a("li",[e._v("组件获取"),a("code",[e._v("store")]),e._v("数据，修改本身")])]),e._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[e._v("#")]),e._v(" API")]),e._v(" "),a("ul",[a("li",[e._v("subscribe - 监听"),a("code",[e._v("store")]),e._v("的变化。\n"),a("blockquote",[a("p",[e._v("没看这本书之前，我的确不知道还有这个东西")])])])]),e._v(" "),a("h2",{attrs:{id:"middlewares"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#middlewares","aria-hidden":"true"}},[e._v("#")]),e._v(" middlewares")]),e._v(" "),a("p",[e._v("中间件。数据流动的流程图不能满足需求。")]),e._v(" "),a("p",[e._v("我们需要的是通过监听"),a("code",[e._v("actions")]),e._v("，然后修改"),a("code",[e._v("actions")]),e._v("。（这就是中间件的原理）")]),e._v(" "),a("p",[a("strong",[e._v("对文中多个中间件的串连如何起作用存有疑惑...，主要是对其现有顺序有点疑惑。")])]),e._v(" "),a("h3",{attrs:{id:"%E6%A0%BC%E5%BC%8F"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%A0%BC%E5%BC%8F","aria-hidden":"true"}},[e._v("#")]),e._v(" 格式")]),e._v(" "),a("p",[e._v("中间件格式比较固定。为")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("middlewares")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" next "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" action\n")])])]),a("p",[e._v("运用了"),a("code",[e._v("currying")]),e._v("。分别代表当前"),a("code",[e._v("store")]),e._v("，下一个中间件（当前中间件处理完成之后，交给下一个中间件），以及"),a("code",[e._v("dispatch")]),e._v("的"),a("code",[e._v("action")]),e._v("。")]),e._v(" "),a("p",[a("strong",[e._v("这里需要注意store以及next")])]),e._v(" "),a("p",[e._v("因为交付给下一步进行处理，可以通过"),a("code",[e._v("next")]),e._v("也可以通过"),a("code",[e._v("store.dispatch")]),e._v("。区别在于如果"),a("code",[e._v("next")]),e._v("是进入了下一个中间件，而"),a("code",[e._v("store.dispatch")]),e._v("而是会重新发起"),a("code",[e._v("action")]),e._v("，可能让中间件的串联重新开始。"),a("strong",[e._v("没有好坏对错，只是有这样的需求。")])]),e._v(" "),a("h3",{attrs:{id:"%E5%BC%82%E6%AD%A5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%BC%82%E6%AD%A5","aria-hidden":"true"}},[e._v("#")]),e._v(" 异步")]),e._v(" "),a("p",[e._v("如果不通过中间件。")]),e._v(" "),a("p",[e._v("异步的写法就是在触发一个异步的"),a("code",[e._v("action")]),e._v("。然后在异步完成之后再一次触发另外一个"),a("code",[e._v("action")]),e._v("。")]),e._v(" "),a("h3",{attrs:{id:"%E8%BD%AE%E8%AE%AD"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E8%BD%AE%E8%AE%AD","aria-hidden":"true"}},[e._v("#")]),e._v(" 轮训")]),e._v(" "),a("p",[e._v("提到了如何实现轮训。")]),e._v(" "),a("h2",{attrs:{id:"router"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#router","aria-hidden":"true"}},[e._v("#")]),e._v(" Router")]),e._v(" "),a("p",[e._v("主要是要保证"),a("code",[e._v("view")]),e._v("和"),a("code",[e._v("url")]),e._v("同步。")]),e._v(" "),a("p",[e._v("将组件理解为函数就可以明白"),a("code",[e._v("router")]),e._v("的原理。路由的变化然后我们渲染响应的组件。")]),e._v(" "),a("h2",{attrs:{id:"%E6%96%87%E4%BB%B6%E5%A4%B9%E7%BB%93%E6%9E%84"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%96%87%E4%BB%B6%E5%A4%B9%E7%BB%93%E6%9E%84","aria-hidden":"true"}},[e._v("#")]),e._v(" 文件夹结构")]),e._v(" "),a("p",[e._v("如果和解决引入"),a("code",[e._v("redux")]),e._v("之后和原本的文件夹结构。")]),e._v(" "),a("p",[e._v("不太喜欢文中的处理方式。只适合部分情况。")]),e._v(" "),a("p",[e._v("还是喜欢放在一个store文件夹进行管理。")])])}],!1,null,null,null);t.default=v.exports}}]);
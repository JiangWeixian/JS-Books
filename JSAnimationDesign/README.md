# JS动画设计
> Velocity作者写的一本关于JS动画设计的书

## 前言

书里面大部分内容都是和`Velocity.js`相关的内容。

所以总体来说价值不大。想要学习这部分内容还不如直接去看文档`DOC`。

## JS vs CSS

**到底哪个性能更好？**

在传统观念来说，`CSS`的性能是更好一些的。但是`JS`更加灵活一些。

但是从书中的观点来说，`JS`性能差完全是可以避免的事情。可以通过某些手段进行性能优化。

所以：**该用JS动画就用JS，该用CSS动画就用CSS动画**

### 分离动画inJS

JS动画算CSS部分，还是JS部分呢？

文中认为其实应该算`CSS`。

结合函数编程的思想，可以将`JS`设置样式部分，移动到另外一个文件，变为一个函数。

**再导入主文件也是可以接受的。**

## 动画性能优化
> 书中完全没有涉及到`React or Vue`相关的内容

因此这部分的性能优化点和原生`HTML`十分类似。

1. 不要单独设置，需要批量设置
2. 默认值设置 - **动画肯定是从一个数值到另外一个数值的变化。** 在初始值没有设定的情况下，会获取默认浏览器的数值（这一步就涉及到了获取的操作），如果一开始就设置了元素默认值，而不是要通过计算的方式获取。也是一个性能的优化点。
3. 统一存统一取值 - 可能会进行的操作是取值然后设置，取值然后设置。**可能会导致DOM更新之后又取值！**
  > 那么如果先统一先取值，然后统一设置
4. transoformer is better - 涉及到位置的动画的时候，直接设置`top or right`性能消耗是比较大的
5. 渐变和阴影动画最好不要设置 - 因为是像素级别的动画

### 兼容低端设备

文中兼容低端设备的方式很优雅。

因为动画一般含有持续时间，有一定时间的代表有动画，**如果动画时间为０，那么其实就是没有动画。**

所以在动画的实现上可以，在每个涉及到动画事时间的函数。将　**持续事件　x 一个乘数**，乘以的数字默认是１，不想要动画那么就0。就实现了兼容低端设备的目的。

## 一些特殊的动画

* 字体动画 - 如果不通过SVG的话如何设置字体的动画，文中介绍了`blast`这个库来进行字体的动画。
